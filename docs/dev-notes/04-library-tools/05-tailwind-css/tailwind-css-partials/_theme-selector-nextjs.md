Create a `src/components/theme/ThemeSelector/ThemeSelector.tsx` and add the following:

```tsx title="components/theme/ThemeSelector/ThemeSelector.tsx"
"use client";

declare global {
  interface Window {
    changeTheme: (theme?: string) => void;
  }
}

// ðŸŸ¡ To avoid FOUC (Flash Of Unstyled Content), this script needs to be
// defined inline in the <head>
//
//   <head><script>{themeSelectorHeadScript}</script></head>
//
// FOUC happens when the user has dark mode enabled by their system, or set in
// local storage. Attempts were made to use `next/script`
// <Script strategy="beforeInteractive" /> but had the following issues:
//   - When `next/script` <Script> is placed in the <body> it runs too late
//   - When `next/script` <Script> is placed in the <head> it runs too late
//   - When `next/script` <Script> is placed in the `next/head` <Head> it
//   doesn't work and the linter throws a `no-script-component-in-head` error
export const themeSelectorHeadScript = `
  function changeTheme(theme) {
    switch (theme) {
      case "dark":
        localStorage.theme = "dark"
        document.documentElement.setAttribute("data-theme", "dark");
        break;
      case "light":
        localStorage.theme = "light"
        document.documentElement.removeAttribute("data-theme");
        break;
      default:
        localStorage.removeItem("theme");
        if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
          document.documentElement.setAttribute("data-theme", "dark");
        } else {
          document.documentElement.removeAttribute("data-theme");
        }
    }
  }
  changeTheme(localStorage.theme);
`;

export function ThemeSelector() {
  return (
    <ul>
      <li>
        <button
          className="text-primary-10"
          onClick={() => window.changeTheme("dark")}
        >
          Dark Theme
        </button>
      </li>
      <li>
        <button
          className="text-primary-10"
          onClick={() => window.changeTheme("light")}
        >
          Light Theme
        </button>
      </li>
      <li>
        <button
          className="text-primary-10"
          onClick={() => window.changeTheme()}
        >
          Use System Theme
        </button>
      </li>
    </ul>
  );
}
```

Modify `layout.tsx`

1. Add imports for `ThemeSelector` and `themeSelectorHeadScript`
2. Modify the `<html>` to include a background color based on the colors defined above and suppress hydration warnings.
3. Add the a comment explaining why the supress hydration warning prop is necissary
4. Add the `themeSelectorHeadScript` inside the `<head><script>. . .</script></head>` tags
5. Add the `<ThemeSelector />` component

Example Final Result:

```tsx title="layout.tsx"
. . .

import {
  ThemeSelector,
  themeSelectorHeadScript,
} from "@/components/theme/ThemeSelector/ThemeSelector";

. . .

export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  // ðŸŸ¡ suppressHydrationWarning={true} is set on the <html> tag because the
  // `themeSelectorHeadScript` will add a `data-theme="dark" attribute to the
  // <html> tag based on the client's system or local storage settings. This may
  // result in a MISMATCH between the initial HTML generated by the server and
  // what is first rendered in the client's browser.
  // See https://react.dev/reference/react-dom/client/hydrateRoot#suppressing-unavoidable-hydration-mismatch-errors

  return (
    <html lang="en" className="bg-primary-0" suppressHydrationWarning={true}>
      <head>
        <script>{themeSelectorHeadScript}</script>
      </head>
      <body>
        <ThemeSelector />
        {children}
      </body>
    </html>
  );
}
```
